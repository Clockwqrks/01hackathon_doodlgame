<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Random HTML Test</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{margin:0;padding:24px;background:#0f172a;color:#e6eef8}
    .card{background:linear-gradient(180deg,#0b1220 0%,#0f172a 100%);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);max-width:900px;margin:18px auto}
    header{display:flex;gap:12px;align-items:center}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 12px;color:#9fb0d6}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    button,input,select{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    canvas{display:block;margin-top:12px;border-radius:8px;background:#071026;width:100%;height:300px}
    .log{background:#041022;padding:8px;border-radius:8px;margin-top:12px;height:120px;overflow:auto;font-family:monospace;font-size:13px}
    footer{margin-top:12px;color:#97aace;font-size:13px}
    .row{display:flex;gap:8px}
    label{font-size:13px;color:#bcd0ee}
  </style>
</head>
<body>
  <div class="card" role="main">
    <header>
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="2" y="3" width="20" height="18" rx="3" stroke="#57b3ff" stroke-width="1.6"/></svg>
      <div>
        <h1>Random HTML Test</h1>
        <p class="lead">Small interactive demo for testing DOM, canvas, and form behavior.</p>
      </div>
    </header>

    <section class="controls" aria-label="controls">
      <div class="row">
        <button id="rndColor">Random Background</button>
        <button id="spawnBall">Spawn Ball</button>
        <button id="clearBalls">Clear Balls</button>
      </div>

      <div class="row">
        <label for="speed">Speed</label>
        <input id="speed" type="range" min="0.2" max="4" step="0.1" value="1">
        <label for="count">Initial</label>
        <select id="count">
          <option>1</option>
          <option selected>5</option>
          <option>10</option>
        </select>
        <button id="start">Start</button>
      </div>

      <form id="sampleForm" style="margin-top:8px;display:flex;gap:8px;align-items:center;">
        <label for="name">Name</label>
        <input id="name" name="name" placeholder="Your name" required>
        <label for="age">Age</label>
        <input id="age" name="age" type="number" min="1" max="120">
        <button type="submit">Validate</button>
      </form>

    </section>

    <canvas id="stage" width="900" height="300" aria-label="demo canvas"></canvas>

    <div class="log" id="log" aria-live="polite"></div>

    <footer>
      Tip: open your browser console to see extra test output.
    </footer>
  </div>

  <script>
    // tiny test harness - no dependencies
    const canvas = document.getElementById('stage');
    const ctx = canvas.getContext('2d');
    const logEl = document.getElementById('log');
    const rndColorBtn = document.getElementById('rndColor');
    const spawnBtn = document.getElementById('spawnBall');
    const clearBtn = document.getElementById('clearBalls');
    const startBtn = document.getElementById('start');
    const speedRange = document.getElementById('speed');
    const countSelect = document.getElementById('count');
    const form = document.getElementById('sampleForm');

    function writeLog(msg){
      const line = document.createElement('div');
      line.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
      logEl.prepend(line);
    }

    // simple ball physics
    const balls = [];
    function rand(min,max){return Math.random()*(max-min)+min}
    function randomColor(){return `hsl(${Math.floor(rand(0,360))} ${Math.floor(rand(50,90))}% ${Math.floor(rand(40,70))}%)`}

    function spawnBall(){
      balls.push({x:rand(30,canvas.width-30),y:rand(30,canvas.height-30),vx:rand(-2,2),vy:rand(-2,2),r:rand(8,28),col:randomColor()});
    }

    function clearBalls(){balls.length=0;writeLog('Cleared balls')}

    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      const speedMul = parseFloat(speedRange.value);
      for(const b of balls){
        b.x += b.vx * speedMul;
        b.y += b.vy * speedMul;
        if(b.x - b.r < 0 || b.x + b.r > canvas.width) b.vx *= -1;
        if(b.y - b.r < 0 || b.y + b.r > canvas.height) b.vy *= -1;
        ctx.beginPath();
        ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
        ctx.fillStyle = b.col;
        ctx.fill();
      }
    }

    let animId = null;
    function loop(){ draw(); animId = requestAnimationFrame(loop); }

    rndColorBtn.addEventListener('click', ()=>{
      document.body.style.background = randomColor();
      writeLog('Background changed');
    });

    spawnBtn.addEventListener('click', ()=>{ spawnBall(); writeLog('Spawned 1 ball') });
    clearBtn.addEventListener('click', ()=>{ clearBalls(); });

    startBtn.addEventListener('click', ()=>{
      clearBalls();
      const initial = parseInt(countSelect.value,10)||5;
      for(let i=0;i<initial;i++) spawnBall();
      if(!animId) loop();
      writeLog(`Started with ${initial} balls`);
    });

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = form.name.value.trim();
      const age = Number(form.age.value);
      if(!name){ writeLog('Validation failed: name required'); alert('Please enter a name'); return }
      if(age && (age < 1 || age > 120)){ writeLog('Validation failed: invalid age'); alert('Enter a realistic age'); return }
      writeLog(`Form OK — name: ${name}${age?(', age: '+age):''}`);
      alert('Form validated — check the log');
    });

    // auto-start a few balls for quick testing
    for(let i=0;i<5;i++) spawnBall();
    loop();
    writeLog('Demo initialized');

    // expose for debugging in console
    window.__test = {balls,spawnBall,clearBalls,writeLog};
  </script>
</body>
</html>
